# Fiber基本介绍

Fiber类提供协程基本功能，包括创建、管理、切换和销毁协程。
使用了ucontext_t结构保存和恢复协程的上下文，并通过std::function来存储协程的执行逻辑

## 协程的状态

运行态(RUNNING)，就绪态(READY)和结束态(TERM)

对称协程与非对称协程

对于非对称协程，协程除了创建语句只有两种操作，一种是resume，表示恢复协程运行，另一种是yield，表示让出执行。

协程的结束没有专门的操作，协程函数运行结束时即结束，协程结束时会自动调用一次yield从调度协程返回到主协程。

## 析构函数和构造函数

Fiber类提供两个构造函数：
1. 带参的用于构造子协程，初始化子协程的ucontect_t上下文和栈空间，要求传入协程的入口函数，以及可选协程栈大小
2. 不带参构造函数用于初始化当前线程的协程功能，构造线程主协程的对象，不允许在类外部调用，只能通过GetThis方法，在返回当前正在运行的协程时，如果发现当前主协程未被初始化，那就不用带参数的构造函数初始化主协程。因为GetThis()兼具初始化主协程的功能，在使用协程之前必须调用一次GetThis()初始化主协程

析构函数：
减少活跃协程的数量，判断是否有栈，有独立栈的肯定是子协程此时直接释放栈空间
